# ssl-certificate-validator

This repository contains the code set up within New Relic as an API Test Monitor (within Synthetics).

The monitor is scheduled to run on a daily basis and run chain cert validations against the urls specified. The code runs throught the chained certs for all the urls specified and submits data in the form of an NR insights event via the API. The monitor set up for this purpose is called 'Validate SSL Certificates' and is located [here](https://synthetics.newrelic.com/accounts/705965/monitors/51eb7f26-7176-475b-ae2b-bd8c13d4be19).

The data thus submitted to the insights api is then used within the Alert which checks for any certificates specified to be expiring in the next 30 days (this can be changed within the threshold on the alert).

There is a dashboard set up within insights section of NewRelic and can be found [here](https://insights.newrelic.com/accounts/705965/dashboards/1283488).

There is NR Alert called ['SSL Certificates Expiring'](https://alerts.newrelic.com/accounts/705965/policies/963990) which runs on a daily schedule using as NRQuery against the events generated by the API monitor which checkes for any certificates with an expiry date within the next 60 days. This will be updated to 30 days once we start seeing these alerts on a more regular basis.

Refer to [discussion](https://discuss.newrelic.com/t/relic-solution-monitoring-ssl-certificate-expiration/51240) on New Relic for some background.

